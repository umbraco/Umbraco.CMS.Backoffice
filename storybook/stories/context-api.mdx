import { Meta } from '@storybook/blocks';

<Meta title="Guides/Context API" />

# Context API

The Context API enables connections between Elements and APIs.
DOM structure defines the context of which an API is exposed for. APIs are provided via an element and can then be consumed by any decending element wthin.

### Consume a Context API.

From a Umbraco Element or Umbraco Controller:

```ts
this.consumeContext('requestThisContextAlias', (context) => {
	// Notice this is a subscription, as context might change or a new one appears.
	console.log("I've got the context", context);
});
```

Or with a Controller using a 'host' reference to Controller Host(Umbraco Element/Controller):

```ts
new UmbContextConsumerController(host, 'requestThisContextAlias', (context) => {
	// Notice this is a subscription, as context might change or a new one appears.
	console.log("I've got the context", context);
});
```

### Provide a Context API.

From a Umbraco Element or Umbraco Controller:

```ts
this.provideContext('myContextAlias', new MyContextApi());
```

Or with a Controller using a 'host' reference to Controller Host(Umbraco Element/Controller):

```ts
new UmbContextProviderController(host, 'myContextAlias', new MyContextApi());
```
